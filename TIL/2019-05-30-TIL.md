---
title: 2019-05-30 TIL
date: 2019-05-30 21:13:21
category: TIL
---
2019-05-30

# Raspberry Pi에 Docker 와 MySQL 설치

## Docker 설치
라즈베리 파이 3 B+ 모델 사용중.
구글 검색해 나온 [블로그](https://www.boolsee.pe.kr/raspberry-pi-%EC%97%90%EC%84%9C-docker-%EC%84%A4%EC%B9%98%EC%99%80-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0/)글을 이용해 설치함.

```
$ curl -fsSL get.docker.com -o get-docker.sh
```

```
$ sudo bash get-docker.sh
```

꽤 기다린 후 설치 완료.
```
Client:
 Version:           18.09.0
 API version:       1.39
 Go version:        go1.10.4
 Git commit:        4d60db4
 Built:             Wed Nov  7 00:57:21 2018
 OS/Arch:           linux/arm
 Experimental:      false

Server: Docker Engine - Community
 Engine:
  Version:          18.09.0
  API version:      1.39 (minimum version 1.12)
  Go version:       go1.10.4
  Git commit:       4d60db4
  Built:            Wed Nov  7 00:17:57 2018
  OS/Arch:          linux/arm
  Experimental:     false
```

```
$ sudo docker ps
```
쳐보면 실행중인 것은 없으니 빈 테이블이 출력된다.

블로그에 root 외 일반 계정으로도 사용하는 방법이 나와있으나, 그럴 필요 없으니 안한다.

## MySQL 설치

편의상 root 계정으로 전환해 진행한다.

```
# docker pull mysql
```
이걸로 하면 안된다. 매칭되는 manifest가 없다며 명령 수행에 실패한다.

라즈베리 파이 3 B+ 모델은 arm64 아키텍쳐이므로 그에 맞는 도커 이미지를 가져와야 한다.

```
# docker pull amd64/mysql
```
뒤에 버전 명시를 하지 않았으므로 default tag인 latest가 적용되어 최신 버전인 8.
(참고 : [Docker Hub 공식 repo](https://hub.docker.com/r/amd64/mysql/))

참고한 [블로그](https://blog.hanumoka.net/2018/04/29/docker-20180429-docker-install-mysql/)를 따라 일단 하나 실행시켜 보자.

```
# docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD="password" --name test_first_mysql amd64/mysql
```
이 때, 이미지 이름은 mysql이 아니다. `# docker images` 명령으로 확인한 이미지 이름인 amd64/mysql을 사용한다.
(왜 arm64가 아니라 amd64인걸까?)


```
# docker ps -a
```
이 명ㄹ

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExMTQ0OTk0MiwxNzI3OTM4ODg2LDE0Mz
kxNzE5NzRdfQ==
-->